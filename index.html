<!DOCTYPE html>
<html lang="pt-BR" class="pagina-inicio">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="styles.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700;800&display=swap"
      rel="stylesheet"
    />
    <link rel="icon" type="image/png" href="images/felpsdevsemfundo.png" />
    <title>FELIPE LOPES | INÍCIO</title>
    <!-- GSAP Library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
  </head>
  <body class="pagina-inicio">
    <header>
      <nav>
        <div class="logo" id="logoSecreta">
          <img src="images/felpsdevsemfundo.png" alt="Logo do Felipe" />
        </div>
        <button class="menu-icon" onclick="alternarMenu()" aria-label="Abrir menu">
          <span></span>
          <span></span>
          <span></span>
        </button>
        <div class="navbar" id="navbar">
          <div><a href="index.html">INÍCIO</a></div>
          <div><a href="projetos.html">PROJETOS</a></div>
          <div><a href="formacoes.html">FORMAÇÕES</a></div>
          <div><a href="experiencia.html">EXPERIÊNCIAS</a></div>
          <div><a href="depoimentos.html">DEPOIMENTOS</a></div>
          <div><a href="contato.html">CONTATOS</a></div>
        </div>
      </nav>
    </header> 

    <!-- Partículas flutuantes -->
    <div class="particles">
      <div class="particle"></div>
      <div class="particle"></div>
      <div class="particle"></div>
      <div class="particle"></div>
      <div class="particle"></div>
      <div class="particle"></div>
    </div>

    <section class="container hero-section snap-section" id="hero">
      <div class="hero-content">
        <div class="avatar">
          <img src="images/felpsdevsemfundo.png" alt="Felipe Lopes" />
        </div>
        <div class="about-text">
          <h1>
            <span class="no-animation">Da Automação à Inteligência Artificial:</span><br />
            <span class="animated-title">Rumo à Engenharia de IA</span>
          </h1>
          <p>
            Eu sou Felipe Soeiro Lopes, desenvolvedor RPA com foco em automatizar processos e eliminar tarefas repetitivas. Meu objetivo é evoluir como engenheiro de IA: unir automação, dados e modelos inteligentes para criar soluções que realmente transformam a forma de trabalhar.
          </p>
          <div class="about-btn">
            <a href="path/CV_FELIPESLOPES.pdf" download>
              <button class="btn-primary">Baixar Currículo</button>
            </a>
            <a href="mailto:felipesoeiro.contato@outlook.com.br">
              <button class="btn-secondary">Entre em contato</button>
            </a>
          </div>
        </div>
      </div>
    </section>

    <!-- Seção de Estatísticas -->
    <section class="stats-section snap-section" id="stats">
      <div class="stats-grid">
        <div class="stat-item">
          <div class="stat-number">1000</div>
          <div class="stat-label">Chamados Mensais</div>
        </div>
        <div class="stat-item">
          <div class="stat-number">30%</div>
          <div class="stat-label">Redução Tempo Resolução</div>
        </div>
        <div class="stat-item">
          <div class="stat-number">20%</div>
          <div class="stat-label">Aumento Eficiência</div>
        </div>
        <div class="stat-item">
          <div class="stat-number">100%</div>
          <div class="stat-label">Automação Processos</div>
        </div>
      </div>
    </section>

    <section class="skills-section snap-section" id="techs">
      <h2 class="primary-heading">TECNOLOGIAS QUE UTILIZO</h2>
      <div class="tech-scroller">
        <div class="scroller-inner">
          <img src="images/icons8-html-48.png" alt="HTML" />
          <img src="images/icons8-css-48.png" alt="CSS" />
          <img src="images/icons8-javascript-48.png" alt="JavaScript" />
          <img src="images/icons8-logo-java-coffee-cup-48.png" alt="Java" />
          <img src="images/icons8-python-48.png" alt="Python" />
          <img src="images/icons8-mysql-48.png" alt="MySQL" />
          <img src="images/icons8-azure-48.png" alt="Azure" />
          <img src="images/icons8-visual-studio-code-2019-48.png" alt="VS Code" />
          <!-- Duplicated for infinite scroll effect -->
          <img src="images/icons8-html-48.png" alt="HTML" />
          <img src="images/icons8-css-48.png" alt="CSS" />
          <img src="images/icons8-javascript-48.png" alt="JavaScript" />
          <img src="images/icons8-logo-java-coffee-cup-48.png" alt="Java" />
          <img src="images/icons8-python-48.png" alt="Python" />
          <img src="images/icons8-mysql-48.png" alt="MySQL" />
          <img src="images/icons8-azure-48.png" alt="Azure" />
          <img src="images/icons8-visual-studio-code-2019-48.png" alt="VS Code" />
        </div>
      </div>
    </section>

    <!-- Chamada para página de Depoimentos -->
    <section class="testimonials-cta" id="veja-depoimentos">
      <div class="container">
        <h2 class="primary-heading">O QUE DIZEM SOBRE MIM</h2>
        <p class="testimonials-cta-text">Veja o que gestores, mentores e professores dizem sobre o meu trabalho.</p>
        <a href="depoimentos.html" class="btn-primary">Ver todos os depoimentos</a>
      </div>
    </section>

    <footer class="footer2" id="rodape">
      <div class="footer-container">
        <p>Desenvolvido por Felipe Soeiro Lopes</p>
        <a href="https://github.com/FelipeSoeiroLopes" target="_blank">
          <img class="github-img" src="images/github-mark-white.png" alt="GitHub" />
        </a>
      </div>
    </footer>

    <!-- Botão Voltar ao Topo -->
    <a href="#" class="voltar-ao-topo">↑</a>

    <script src="script.js"></script>
    <script>
      // GSAP Animations - Configuração Global Otimizada
      gsap.registerPlugin(ScrollTrigger);
      
      // Otimização global para melhor performance
      gsap.config({
        nullTargetWarn: false,
        trialWarn: false,
        force3D: true, // Força aceleração por hardware
        autoSleep: 60 // Pausa animações inativas após 60s
      });
      
      // Configuração global do ScrollTrigger para performance
      ScrollTrigger.config({
        autoRefreshEvents: "visibilitychange,DOMContentLoaded,load",
        ignoreMobileResize: true
      });
      
      // Refresh ScrollTrigger após carregamento completo
      window.addEventListener('load', () => {
        ScrollTrigger.refresh();
      });

      // Animações de testimonials removidas - sem animação GSAP

      // Animate stats section - otimizado para performance
      gsap.utils.toArray('.stat-item').forEach((item, index) => {
        gsap.set(item, { willChange: 'transform, opacity' });
        gsap.from(item, {
          scrollTrigger: {
            trigger: item,
            start: 'top 90%',
            toggleActions: 'play none none none',
            once: true,
            markers: false
          },
          y: 30,
          opacity: 0,
          scale: 0.9,
          duration: 0.4,
          delay: index * 0.05,
          ease: 'back.out(1.2)',
          force3D: true,
          onComplete: () => {
            gsap.set(item, { willChange: 'auto' });
          }
        });

        // Animate numbers - mais rápido e otimizado
        const number = item.querySelector('.stat-number');
        if (!number) return;
        
        const targetValue = number.textContent;
        const scrollTrigger = ScrollTrigger.create({
          trigger: item,
          start: 'top 90%',
          once: true,
          markers: false,
          onEnter: () => {
            if (targetValue.includes('%')) {
              const numValue = parseInt(targetValue);
              const obj = { value: 0 };
              gsap.to(obj, {
                value: numValue,
                duration: 0.8,
                delay: index * 0.05 + 0.2,
                ease: 'power1.out',
                onUpdate: () => {
                  number.textContent = Math.round(obj.value) + '%';
                },
                onComplete: () => {
                  scrollTrigger.kill();
                }
              });
            } else {
              const numMatch = targetValue.match(/\d+/);
              if (numMatch) {
                const numValue = parseInt(numMatch[0]);
                const suffix = targetValue.replace(numMatch[0], '');
                const obj = { value: 0 };
                gsap.to(obj, {
                  value: numValue,
                  duration: 0.8,
                  delay: index * 0.05 + 0.2,
                  ease: 'power1.out',
                  onUpdate: () => {
                    number.textContent = Math.round(obj.value) + suffix;
                  },
                  onComplete: () => {
                    scrollTrigger.kill();
                  }
                });
              }
            }
          }
        });
      });

      // Animate hero section - otimizado para performance
      gsap.set('.avatar img', { willChange: 'transform, opacity' });
      gsap.from('.avatar img', {
        y: 40,
        opacity: 0,
        scale: 0.9,
        duration: 0.6,
        ease: 'back.out(1.4)',
        delay: 0.1,
        clearProps: 'y',
        force3D: true,
        onComplete: () => {
          gsap.set('.avatar img', { willChange: 'auto' });
        }
      });

      gsap.from('.about-text h1 .animated-title', {
        y: 20,
        opacity: 0,
        duration: 0.5,
        ease: 'power2.out',
        delay: 0.2,
        force3D: true
      });

      gsap.from('.about-text p', {
        y: 20,
        opacity: 0,
        duration: 0.5,
        ease: 'power2.out',
        delay: 0.3,
        force3D: true
      });

      gsap.from('.about-btn', {
        y: 20,
        opacity: 0,
        scale: 0.95,
        duration: 0.5,
        ease: 'power2.out',
        delay: 0.4,
        force3D: true
      });

      // Animate skills section heading - mais rápido
      gsap.from('.skills-section .primary-heading', {
        scrollTrigger: {
          trigger: '.skills-section',
          start: 'top 90%',
          once: true
        },
        y: 20,
        opacity: 0,
        duration: 0.5,
        ease: 'power2.out'
      });

      // ============================
      // 1 PÁGINA POR SCROLL (desktop) — Hero, Estatísticas, Tecnologias; depois rolagem livre em Depoimentos
      // ============================
      (function() {
        if (!document.body.classList.contains('pagina-inicio')) return;
        var sections = document.querySelectorAll('.snap-section');
        if (sections.length === 0) return;
        var vejaDepoimentos = document.getElementById('veja-depoimentos');
        if (!vejaDepoimentos) return;
        var desktop = window.matchMedia('(min-width: 769px)');
        if (!desktop.matches) return;

        var lastWheelTime = 0;
        var cooldownMs = 500;

        function getScrollPadding() {
          var padding = parseInt(getComputedStyle(document.documentElement).scrollPaddingTop || '0', 10);
          return isNaN(padding) ? 80 : padding;
        }

        function findCurrentIndex() {
          var scrollY = window.scrollY || window.pageYOffset;
          var padding = getScrollPadding();
          var best = 0;
          var bestDist = Infinity;
          for (var i = 0; i < sections.length; i++) {
            var top = sections[i].getBoundingClientRect().top + scrollY - padding;
            var dist = Math.abs(scrollY - top);
            if (dist < bestDist) {
              bestDist = dist;
              best = i;
            }
          }
          return best;
        }

        function goToSection(index) {
          index = Math.max(0, Math.min(index, sections.length - 1));
          var el = sections[index];
          if (!el) return;
          var top = el.getBoundingClientRect().top + (window.scrollY || window.pageYOffset) - getScrollPadding();
          window.scrollTo({ top: top, behavior: 'smooth' });
        }

        window.addEventListener('wheel', function(e) {
          if (!desktop.matches) return;
          var scrollY = window.scrollY || window.pageYOffset;
          var padding = getScrollPadding();
          var ctaTop = vejaDepoimentos.getBoundingClientRect().top + scrollY - padding;

          var now = Date.now();
          if (now - lastWheelTime < cooldownMs) {
            e.preventDefault();
            return;
          }

          if (e.deltaY > 0) {
            if (scrollY + 80 >= ctaTop) {
              return;
            }
            lastWheelTime = now;
            e.preventDefault();
            var current = findCurrentIndex();
            if (current === sections.length - 1) {
              window.scrollTo({ top: ctaTop, behavior: 'smooth' });
            } else {
              goToSection(current + 1);
            }
            return;
          }

          if (e.deltaY < 0) {
            if (scrollY + 80 >= ctaTop) {
              lastWheelTime = now;
              e.preventDefault();
              goToSection(sections.length - 1);
              return;
            }
            lastWheelTime = now;
            e.preventDefault();
            var current = findCurrentIndex();
            goToSection(current - 1);
          }
        }, { passive: false });
      })();
    </script>
  </body>
</html>
